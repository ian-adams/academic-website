---
const pathname = Astro.url.pathname;

const dashboards = [
  { href: '/dashboard', label: 'MPV' },
  { href: '/dashboard/bad-apples', label: 'Bad Apples' },
  { href: '/dashboard/disparity-benchmarks', label: 'Disparity' },
  { href: '/dashboard/fcwc-risk', label: 'FCWC' },
  { href: '/dashboard/profanity', label: 'Profanity' },
];

function isCurrent(href: string) {
  if (href === '/dashboard') return pathname === '/dashboard' || pathname === '/dashboard/';
  return pathname.startsWith(href);
}
---

<nav aria-label="Dashboard navigation" class="mb-8">
  <div class="flex flex-wrap gap-2">
    {dashboards.map((d) => (
      <a
        href={d.href}
        aria-current={isCurrent(d.href) ? 'page' : undefined}
        class={`px-4 py-2 text-sm font-medium rounded-full transition-colors ${
          isCurrent(d.href)
            ? 'bg-primary-700 text-white dark:bg-primary-600'
            : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700'
        }`}
      >
        {d.label}
      </a>
    ))}
  </div>
</nav>
